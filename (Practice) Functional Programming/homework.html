<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title> Homework </title>

</head>
<body>

  <script type="text/javascript">
  var list = [
  { label : 'Item 1' },
  {
    label : 'Item 2',
    list : {
      '1' : { label : 'Sub Item 2.1' },
      '2' : { label : 'Sub Item 2.2' },
      '3' : { label : 'Sub Item 2.3' }
    }
  },
  {
    label : 'Item 3',
    list : [
    {
      label : 'Sub Item 3.1',
      list : {
        '1' : { label : 'Sub Item 3.1.1' },
        '2' : { label : 'Sub Item 3.1.2' }
      }
    },
    { label : 'Sub Item 3.2' },
    { label : 'Sub Item 3.3' }
    ]
  }
  ];

  function printList(list) {
    var html = '';

    function addSubObject(element, string) {
      var tmp = [];
      tmp[0] = string;
      if (element.constructor === Object) {
        tmp.push( ['<ul>', printObject(element), '</ul>'].join('') );
      } else {
        tmp.push( ['<li>', element, '</li>'].join('') );
      }
      return tmp.join('');
    }

    function printObject (list) {
      html = '';
      for (key in list) {
        if (list[key].constructor === Array) {
          list[key].forEach(function(element) {
            html = addSubObject(element, html);
          });
        } else {
          html = addSubObject(list[key], html);
        }
      }
      return html;
    }
    return printObject(list);
  }

  document.write(printList(list));
  </script>
</body>
</html>
